(this["webpackJsonpexponential-backoff"]=this["webpackJsonpexponential-backoff"]||[]).push([[0],{136:function(e,t,a){e.exports={Footer:"Footer_Footer__1yZ4j"}},137:function(e,t,a){e.exports={Header:"Header_Header__3v0KW"}},138:function(e,t,a){e.exports={Input:"Input_Input__FOf2Q",active:"Input_active__uks-4","inner-wrapper":"Input_inner-wrapper__2VLTX",addons:"Input_addons__PRhpL"}},150:function(e,t,a){e.exports={Result:"Result_Result__1Vkfn","table-wrapper":"Result_table-wrapper__2Z9Z3","toggle-button":"Result_toggle-button__667xT"}},151:function(e,t,a){e.exports={Main:"Main_Main__2l4zb","form-wrapper":"Main_form-wrapper__1-p8r"}},152:function(e,t,a){e.exports={App:"App_App__rq8wc"}},182:function(e,t,a){e.exports=a(375)},374:function(e,t,a){},375:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),o=a(10),u=a.n(o),i=a(136),s=a.n(i),m=u.a.bind(s.a),p=function(){return r.a.createElement("footer",{className:m("Footer")},r.a.createElement("p",null,"Truncated exponential backoff is a standard error handling strategy for network applications in which a client periodically retries a failed request with increasing delays between requests. (Ref:"," ",r.a.createElement("a",{href:"https://cloud.google.com/storage/docs/exponential-backoff"},"Google Cloud Documentation"),")"),r.a.createElement("p",null,"Formula:"," ",r.a.createElement("code",null,"{current backoff} = min(",r.a.createElement("br",null),"\xa0\xa0{min retry backoff} * (2 ** ({retry #} - 1)), ",r.a.createElement("br",null),"\xa0\xa0{max retry backoff}",r.a.createElement("br",null),")")),r.a.createElement("p",null,"Source Code:"," ",r.a.createElement("a",{href:"https://github.com/youngminz/exponential-backoff"},"https://github.com/youngminz/exponential-backoff")))},f=a(137),d=a.n(f),b=u.a.bind(d.a),E=function(){return r.a.createElement("header",{className:b("Header")},r.a.createElement("h1",null,"truncated exponential backoff simulator"))},h=a(7),g=a(138),_=a.n(g),y=u.a.bind(_.a),v=function(e){var t=e.label,a=e.value,c=e.type,l=e.placeholder,o=e.onChange,u=e.addons,i=e.maxLength,s=e.minLength,m=Object(n.useState)(!1),p=Object(h.a)(m,2),f=p[0],d=p[1],b=Object(n.useRef)(),E=function(e){o&&o instanceof Function&&o(e)};return r.a.createElement("div",{className:y("Input",{active:f}),onClick:function(){return d(!0),void b.current.focus()}},t&&r.a.createElement("label",null,t),r.a.createElement("div",{className:y("inner-wrapper")},r.a.createElement("input",{ref:b,type:c,value:a,placeholder:l,maxLength:i,minLength:s,onChange:function(e){return E(e)},onFocus:function(){return d(!0)},onBlur:function(){return d(!1)}}),u&&r.a.createElement("div",{className:y("addons")},u)))},k=a(14),w=a(150),x=a.n(w),N=u.a.bind(x.a),S=function(e){return e>=60?"".concat(parseInt(e/60)," min ").concat(parseInt(e%60)," sec"):"".concat(e>=10?parseInt(e%60):(e%60).toFixed(2)," sec")},F=function(e){var t,a=e.calculationResult,c=Object(n.useState)("chart"),l=Object(h.a)(c,2),o=l[0],u=l[1],i={table:"chart",chart:"table"},s=r.a.createElement("div",{class:N("toggle-button")},r.a.createElement("button",{onClick:function(){u(i[o])}},"Toggle to ",i[o]," view"));if("chart"===o)t=r.a.createElement(k.e,{width:"100%",height:400},r.a.createElement(k.d,{data:a},r.a.createElement(k.a,{strokeDasharray:"3 3"}),r.a.createElement(k.g,{dataKey:"retryCount"}),r.a.createElement(k.h,null),r.a.createElement(k.f,null),r.a.createElement(k.b,null),r.a.createElement(k.c,{type:"monotone",dataKey:"backoffSeconds",stroke:"#8884d8"}),r.a.createElement(k.c,{type:"monotone",dataKey:"accumulateBackoffSeconds",stroke:"#82ca9d"})));else{var m=r.a.createElement("tr",null,r.a.createElement("th",null,"retry #"),r.a.createElement("th",null,"current backoff"),r.a.createElement("th",null,"accumulated backoff")),p=a.map((function(e){var t=e.retryCount,a=e.backoffSeconds,n=e.accumulateBackoffSeconds;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,S(a)),r.a.createElement("td",null,S(n)))}));t=r.a.createElement("div",{className:N("table-wrapper")},r.a.createElement("table",null,r.a.createElement("thead",null,m),r.a.createElement("tbody",null,p)))}return r.a.createElement("div",{className:N("Result")},s,t)},I=a(151),R=a.n(I),j=u.a.bind(R.a),C=function(e){var t=new URL(window.location);return new URLSearchParams(t.search).get(e)},O=function(){var e=Object(n.useState)(C("min")||.1),t=Object(h.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(C("max")||60),o=Object(h.a)(l,2),u=o[0],i=o[1],s=Object(n.useState)(C("retry")||15),m=Object(h.a)(s,2),p=m[0],f=m[1],d=null;if(isNaN(parseFloat(a))||isNaN(parseFloat(u))||isNaN(parseInt(p)))d=[];else if(d=function(e,t,a){for(var n=[],r=0,c=1;c<=a;c++){var l=Math.min(e*Math.pow(2,c-1),t);r+=l,n.push({retryCount:c,backoffSeconds:l,accumulateBackoffSeconds:r})}return n}(parseFloat(a),parseFloat(u),parseInt(p)),window.history.replaceState){var b=window.location.toString().replace(window.location.search,"")+"?min=".concat(a,"&max=").concat(u,"&retry=").concat(p);window.history.replaceState({path:b},"",b)}return r.a.createElement("main",{className:j("Main")},r.a.createElement("div",{className:j("form-wrapper")},r.a.createElement(v,{type:"number",label:"min retry backoff",value:a,onChange:function(e){return c(e.target.value)},addons:"sec"}),r.a.createElement(v,{type:"number",label:"max retry backoff",value:u,onChange:function(e){return i(e.target.value)},addons:"sec"}),r.a.createElement(v,{type:"number",label:"total retry count",value:p,onChange:function(e){return f(e.target.value)},maxLength:"3",addons:"retry"})),r.a.createElement(F,{calculationResult:d}))},L=a(152),M=a.n(L),B=u.a.bind(M.a),A=function(){return r.a.createElement("div",{className:B("App")},r.a.createElement(E,null),r.a.createElement(O,null),r.a.createElement(p,null))};a(371),a(374);l.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.fec2e206.chunk.js.map